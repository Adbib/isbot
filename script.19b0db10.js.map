{"version":3,"sources":["../list.json","../index.js","script.js"],"names":["module","exports","regex","list","require","update","RegExp","join","included","rule","indexOf","userAgent","test","find","match","extend","additionalFilters","concat","filter","exclude","excludedFilters","i","length","index","lastIndexOf","splice","push","error","textarea","timer","document","querySelector","output","query","window","location","search","replace","change","value","target","clearTimeout","setTimeout","check","innerHTML","trim","result","isbot","className","decodeURIComponent","navigator","addEventListener","select"],"mappings":";AAAAA,OAAOC,QAAQ,CAAC,SAAS,UAAU,aAAa,WAAW,YAAY,UAAU,cAAc,cAAc,QAAQ,SAAS,KAAK,OAAO,OAAO,SAAS,kBAAkB,iBAAiB,gBAAgB,cAAc,WAAW,QAAQ,qBAAqB,gBAAgB,mBAAmB,UAAU,kBAAkB,aAAa,UAAU,WAAW,aAAa,UAAU,yBAAyB,aAAa,cAAc,gBAAgB,gBAAgB,UAAU,WAAW,oBAAoB,qBAAqB,gBAAgB,UAAU,WAAW,QAAQ,WAAW,QAAQ,gBAAgB,WAAW,WAAW,YAAY,WAAW,UAAU,cAAc,WAAW,0BAA0B,aAAa,uBAAuB,oBAAoB,WAAW,aAAa,WAAW,WAAW,YAAY,YAAY,aAAa,uBAAuB,2BAA2B,kBAAkB,YAAY,UAAU,SAAS,aAAa,cAAc,gBAAgB,aAAa,cAAc,UAAU,aAAa,UAAU,WAAW,QAAQ,WAAW,UAAU,WAAW,eAAe,aAAa,cAAc,cAAc,QAAQ,aAAa,UAAU,UAAU,cAAc,UAAU,WAAW,WAAW,cAAc,SAAS,kBAAkB,QAAQ,eAAe,aAAa,oBAAoB,aAAa,iBAAiB,kBAAkB,WAAW,kBAAkB,kBAAkB,8BAA8B,uCAAuC,yCAAyC,uBAAuB,8BAA8B,sBAAsB,iBAAiB,SAAS,eAAe,oCAAoC,gDAAgD,wGAAwG,mIAAmI,iFAAiF,uCAAuC,eAAe,eAAe,gBAAgB,WAAW,qCAAqC,YAAY,aAAa,cAAc,mBAAmB,QAAQ,mBAAmB,oBAAoB,gBAAgB,UAAU,oBAAoB,UAAU,UAAU,YAAY,aAAa,cAAc,qBAAqB,WAAW,OAAO,WAAW,YAAY,UAAU,eAAe,wBAAwB,oBAAoB,cAAc,WAAW,aAAa,UAAU,SAAS,UAAU,aAAa,WAAW,YAAY,QAAQ,YAAY,sBAAsB,SAAS,YAAY,eAAe,WAAW,YAAY,WAAW,OAAO,oBAAoB,WAAW,yBAAyB,oBAAoB,YAAY,kBAAkB,eAAe,gBAAgB,WAAW,YAAY,mBAAmB,WAAW,cAAc,aAAa,aAAa,sBAAsB,UAAU,OAAO,aAAa,QAAQ,YAAY,WAAW,wBAAwB,iBAAiB,oBAAoB,SAAS,SAAS,UAAU,UAAU,WAAW,oBAAoB,eAAe,SAAS,UAAU,eAAe,aAAa,SAAS,gBAAgB,cAAc,UAAU,mBAAmB,OAAO,cAAc,gBAAgB,gBAAgB,MAAM,eAAe,UAAU,mBAAmB,UAAU,aAAa,QAAQ,oBAAoB,aAAa,SAAS,UAAU,qBAAqB,QAAQ,SAAS,YAAY,WAAW,eAAe,YAAY,WAAW,YAAY,kBAAkB,UAAU,OAAO,QAAQ,SAAS,kBAAkB,aAAa,SAAS,cAAc,aAAa,SAAS,aAAa,WAAW,kBAAkB,WAAW,UAAU,2BAA2B,QAAQ,SAAS,SAAS,QAAQ,YAAY,QAAQ,SAAS,SAAS,cAAc,UAAU,eAAe,YAAY,kBAAkB,aAAa,YAAY,UAAU,uBAAuB,cAAc,UAAU,wBAAwB,QAAQ,WAAW,WAAW,WAAW,QAAQ,OAAO,UAAU,YAAY,UAAU,aAAa,kBAAkB,WAAW,aAAa,WAAW,cAAc,aAAa,WAAW,wBAAwB,SAAS,QAAQ,OAAO,WAAW,SAAS,SAAS,SAAS,mBAAmB,qBAAqB,kBAAkB,QAAQ,YAAY,QAAQ,oBAAoB,SAAS,MAAM,aAAa,oBAAoB,UAAU,YAAY,QAAQ,SAAS,cAAc,oBAAoB,eAAe,gBAAgB,MAAM,YAAY,YAAY,UAAU,UAAU,aAAa,WAAW,gBAAgB,YAAY,aAAa,UAAU,iBAAiB,gBAAgB,YAAY,yFAAyF,OAAO;;ACAjyJ,IACIC,EADAC,EAAOC,QAAQ,eAMnB,SAASC,IACPH,EAAQ,IAAII,OAAO,IAAMH,EAAKI,KAAK,KAAO,IAAK,KAuCjD,SAASC,EAAUC,GACVN,OAAwB,IAAxBA,EAAKO,QAAQD,GAhCtBT,OAAOC,QAAU,SAAUU,GAClBT,OAAAA,EAAMU,KAAKD,IAQpBX,OAAOC,QAAQY,KAAO,SAAUF,GAC1BG,IAAAA,EAAQH,EAAUG,MAAMZ,GACrBY,OAAAA,GAASA,EAAM,IAQxBd,OAAOC,QAAQc,OAAS,SAAUC,GAChCb,EAAOA,EAAKc,OACVD,EAAkBE,OAAOV,IAE3BH,KAiBFL,OAAOC,QAAQkB,QAAU,SAAUC,GAE1BC,IADHA,IAAAA,EAAID,EAAgBE,OACjBD,KAAK,CACNE,IAAAA,EAAQpB,EAAKqB,YAAYJ,EAAgBC,IACzCE,GAAS,GACXpB,EAAKsB,OAAOF,EAAO,GAGvBlB,KAGF,IAGMC,IAAAA,OAAO,eAAeM,KAAK,aAC/BT,EAAKsB,OAAOtB,EAAKqB,YAAY,OAAQ,GACrCrB,EAAKuB,KAAK,eACVvB,EAAKsB,OAAOtB,EAAKqB,YAAY,UAAW,GACxCrB,EAAKuB,KAAK,2BACV,MAAOC,IAITtB;;AC5EA,aAFA,IAAA,EAAA,EAAA,QAAA,OAEA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,IAAA,WACQuB,IAEFC,EAFED,EAAWE,SAASC,cAAc,YAClCC,EAASF,SAASC,cAAc,UAGhCE,EAAQC,OAAOC,SAASC,OAAOC,QAAQ,aAAc,MAUlDC,SAAAA,EAA+B,GAAXC,IAAAA,EAAVC,EAAAA,OAAUD,MAC3BE,aAAaZ,GACbA,EAAQa,WAAWC,EAAO,IAAKJ,GAGxBI,SAAAA,IAAOJ,IAAAA,EAAQX,UAAAA,OAAAA,QAAAA,IAAAA,UAAAA,GAAAA,UAAAA,GAAAA,EAASgB,UAE3BL,GAAU,MADdA,EAAQA,EAAMM,QACVN,CAKEO,IAAAA,GAAS,EAAMP,EAAAA,SAAAA,GAErBP,EAAOY,UAAY,CACjBE,EACI,kBACA,uBACJA,EAC4CC,wCAAAA,OAAAA,EAAMlC,QAAAA,KAAK0B,GACnD,UAAA,0CACJhC,KAAK,MAEPyB,EAAOgB,UAAY,GACnBN,WAAW,WAAQV,EAAOgB,UAAY,aAAe,UAhBnDhB,EAAOY,UAAY,2CAhBvBhB,EAASgB,UAAYX,EACjBgB,mBAAmBhB,GACnBiB,UAAUvC,UACdiB,EAASuB,iBAAiB,QAASb,GACnCV,EAASuB,iBAAiB,QAASb,GACnCV,EAASuB,iBAAiB,QAAS,WAAMvB,OAAAA,EAASwB,WAClDT,IAbF","file":"script.19b0db10.js","sourceRoot":"../src","sourcesContent":["module.exports=[\" Daum/\",\" DeuSu/\",\" MuckRack/\",\" splash \",\" Sysomos/\",\" um-LN/\",\"(^|\\\\s)Site\",\"\\\\(vBSEO\\\\;\",\"^&lt;\",\"^12345\",\"^<\",\"^\\\\!\",\"^\\\\[\",\"^acoon\",\"^ActiveBookmark\",\"^ActiveRefresh\",\"^ActiveWorlds\",\"^Ad Muncher\",\"^AddThis\",\"^AHC/\",\"^Amazon CloudFront\",\"^AmigaVoyager\",\"^Anonymous_agent\",\"^Apache\",\"^asafaweb\\\\.com\",\"^asynchttp\",\"^axios/\",\"^Azureus\",\"^biglotron\",\"^binlar\",\"^Blackboard Safeassign\",\"^Bloglines\",\"^Bloglovin/\",\"^Browsershots\",\"^btwebclient/\",\"^BUbiNG\",\"^CakePHP\",\"^Camo Asset Proxy\",\"^CATExplorador/\\\\d\",\"^ClamAV[\\\\s/]\",\"^Client\",\"^Custom$\",\"^DAP \",\"^DavClnt\",\"^Digg\",\"^Dispatch/\\\\d\",\"^Disqus/\",\"^docomo/\",\"^Download\",\"^drupact\",\"^Drupal\",\"^DuckDuckGo\",\"^eCatch/\",\"^Evernote Clip Resolver\",\"^facebook$\",\"^facebookexternalhit\",\"^facebookplatform\",\"^Faraday\",\"^fasthttp$\",\"^FDM \\\\d\",\"^FDM/\\\\d\",\"^findlink\",\"^FlashGet\",\"^Friendica\",\"^GigablastOpenSource\",\"^Go \\\\d.\\\\d package http\",\"^Go-http-client\",\"^gooblog/\",\"^googal\",\"^Goose\",\"^Grammarly\",\"^GreatNews/\",\"^GreenBrowser\",\"^Gregarius\",\"^GuzzleHttp\",\"^Hatena\",\"^Hexometer\",\"^Hobbit\",\"^Hotzonu\",\"^http\",\"^HubSpot\",\"^HWCDN/\",\"^IBrowse\",\"^ICE Browser\",\"^iframely/\",\"^infoX-WISG\",\"^INGRID/\\\\d\",\"^java\",\"^JetBrains\",\"^Jetty/\",\"^Jigsaw\",\"^libtorrent\",\"^libwww\",\"^Liferea\",\"^linkdex\",\"^LinkWalker\",\"^ltx71\",\"^lua-resty-http\",\"^lwp-\",\"^LWP::Simple\",\"^MagpieRSS\",\"^MailChimp\\\\.com$\",\"^Mechanize\",\"^MeltwaterNews\",\"^metainspector/\",\"^MetaURI\",\"^Microsoft BITS\",\"^Microsoft Data\",\"^Microsoft Office Existence\",\"^Microsoft Office Protocol Discovery\",\"^Microsoft Windows Network Diagnostics\",\"^Microsoft-CryptoAPI\",\"^Microsoft-WebDAV-MiniRedir\",\"^Mixmax-LinkPreview\",\"^MixnodeCache/\",\"^Monit\",\"^MovableType\",\"^Mozilla/4\\\\.0 \\\\(compatible;\\\\)$\",\"^Mozilla/5\\\\.0 \\\\(compatible(; Optimizer)?\\\\)\",\"^Mozilla/5\\\\.0 \\\\(en-us\\\\) AppleWebKit/525\\\\.13 \\\\(KHTML, like Gecko\\\\) Version/3\\\\.1 Safari/525\\\\.13\",\"^Mozilla/5\\\\.0 \\\\(Macintosh; Intel Mac OS X 10_15\\\\) AppleWebKit/605\\\\.1\\\\.15 \\\\(KHTML, like Gecko\\\\) Mobile/15E148 DuckDuckGo/7\",\"^Mozilla/5\\\\.0 \\\\(Windows; rv:\\\\d{2}\\\\.0\\\\) Gecko/20100101 Firefox/\\\\d{2}\\\\.0$\",\"^Mozilla/\\\\d\\\\.\\\\d \\\\(compatible\\\\)$\",\"^muCommander\",\"^My browser$\",\"^NaverMailApp\",\"^NetSurf\",\"^NetTrack Anonymous Web Statistics\",\"^Netvibes\",\"^NewsGator\",\"^newspaper/\",\"^NextCloud-News/\",\"^NING\",\"^node-superagent\",\"^NokiaC3-00/5\\\\.0\",\"^NoteTextView\",\"^Nuzzel\",\"^Offline Explorer\",\"^okhttp\",\"^omgili\",\"^OSSProxy\",\"^panscient\",\"^Pcore-HTTP\",\"^PEAR HTTP_Request\",\"^photon/\",\"^PHP\",\"^Postman\",\"^postrank\",\"^python\",\"^RamblerMail\",\"^raynette_httprequest\",\"^RealDownload/\\\\d\",\"^RebelMouse\",\"^Riddler\",\"^RssBandit\",\"^RSSOwl\",\"^Ruby$\",\"^Scrapy\",\"^selenium/\",\"^sentry/\",\"^SEOstats\",\"^set:\",\"^Shareaza\",\"^ShortLinkTranslate\",\"^snap$\",\"^Snapchat\",\"^Space Bison\",\"^Spring \",\"^Sprinklr\",\"^summify\",\"^SVN\",\"^T-Online Browser\",\"^Taringa\",\"^Test Certificate Info\",\"^The Knowledge AI\",\"^Thinklab\",\"^Tiny Tiny RSS/\",\"^Traackr.com\",\"^Transmission\",\"^tumblr/\",\"^Typhoeus\",\"^Ubuntu APT-HTTP\",\"^Upflow/\",\"^USER_AGENT\",\"^utorrent/\",\"^vBulletin\",\"^venus/fedoraplanet\",\"^VSE\\\\/\",\"^W3C\",\"^WebCopier\",\"^wget\",\"^whatsapp\",\"^WhatWeb\",\"^Windows-RSS-Platform\",\"^WWW-Mechanize\",\"^Xenu Link Sleuth\",\"^Xymon\",\"^Yahoo\",\"^Yandex\",\"^Zabbix\",\"^ZDM/\\\\d\",\"^Zend_Http_Client\",\"^Zjavascript\",\"^ZmEu$\",\"Abonti/\",\"adbeat\\\\.com\",\"Amiga-AWeb\",\"analyz\",\"AnyEvent-HTTP\",\"AppInsights\",\"archive\",\"Ask Jeeves/Teoma\",\"auto\",\"BingPreview\",\"Bluecoat DRTR\",\"BorderManager\",\"bot\",\"BrandVerity/\",\"BrowseX\",\"burpcollaborator\",\"capture\",\"Catchpoint\",\"check\",\"Chrome-Lighthouse\",\"CloudFlare\",\"coccoc\",\"collect\",\"Commons-HttpClient\",\"crawl\",\"daemon\",\"DareBoost\",\"Datanyze\",\"dataprovider\",\"DejaClick\",\"detector\",\"DMBrowser\",\"Domains Project\",\"Embedly\",\"feed\",\"fetch\",\"finder\",\"FlipboardProxy/\",\"FreeSafeIP\",\"Genieo\",\"GetLinkInfo\",\"GomezAgent\",\"google\",\"GroupHigh/\",\"GTmetrix\",\"HeadlessChrome/\",\"heritrix\",\"httrack\",\"HubSpot Marketing Grader\",\"Hydra\",\"ichiro\",\"images\",\"index\",\"ips-agent\",\"java/\",\"JavaFX\",\"Jorgee\",\"kulturarw3/\",\"library\",\"link preview\",\"Lipperhey\",\"Lucidworks-Anda\",\"mail\\\\.ru/\",\"Miniflux/\",\"monitor\",\"NetcraftSurveyAgent/\",\"NetNewsWire\",\"NewsFox\",\"Nmap Scripting Engine\",\"nutch\",\"OffByOne\",\"outbrain\",\"page2rss\",\"parse\",\"perl\",\"phantom\",\"PingAdmin\",\"Pingdom\",\"Powermarks\",\"PowerPC AmigaOS\",\"PR-CY.RU\",\"prlog\\\\.ru\",\"proximic\",\"PTST[/ ]\\\\d\",\"QQDownload\",\"Qwantify\",\"RankSonicSiteAuditor/\",\"reader\",\"Rivva\",\"scan\",\"ScoutJet\",\"scrape\",\"search\",\"server\",\"SeznamEmailProxy\",\"shrinktheweb\\\\.com\",\"SkypeUriPreview\",\"slurp\",\"Snacktory\",\"Sogou\",\"SpeedMode; Proxy;\",\"spider\",\"spy\",\"StatusCake\",\"stumbleupon\\\\.com\",\"synapse\",\"synthetic\",\"thumb\",\"TinEye\",\"tracemyfile\",\"TrendsmapResolver\",\"tweetedtimes\",\"Twingly Recon\",\"url\",\"Vagabondo\",\"validator\",\"vkshare\",\"WAPCHOI\",\"Wappalyzer\",\"webcorp/\",\"WebDataStats/\",\"Webglance\",\"webkit2png\",\"WinHTTP\",\"wmtips.com/\\\\d\",\"woorankreview\",\"WordPress\",\"www\\\\.(ackerm|alertra|de|iskanie|megaproxy|moreover|mowser|nearsoftware|ssllabs)\\\\.com\",\"yeti\",\"zgrab\"];","var list = require('./list.json')\nvar regex\n\n/**\n * Refresh the local regex variable (clusure)\n */\nfunction update () {\n  regex = new RegExp('(' + list.join('|') + ')', 'i')\n}\n\n/**\n * Check if string matches known crawler patterns\n * @param  {string} userAgent\n * @return {boolean}\n */\nmodule.exports = function (userAgent) {\n  return regex.test(userAgent)\n}\n\n/**\n * Get the match for strings' known crawler pattern\n * @param  {string} userAgent\n * @return {string}\n */\nmodule.exports.find = function (userAgent) {\n  var match = userAgent.match(regex)\n  return match && match[0]\n}\n\n/**\n * Extent patterns for known crawlers\n * @param  {array} additionalFilters\n * @return {void}\n */\nmodule.exports.extend = function (additionalFilters) {\n  list = list.concat(\n    additionalFilters.filter(included)\n  )\n  update()\n}\n\n/**\n * Check if item is included in list\n * @param  {string} rule\n * @return {boolean}\n */\nfunction included (rule) {\n  return list.indexOf(rule) === -1\n}\n\n/**\n * Exclude patterns from bot pattern rule\n * @param  {array} excludedFilters\n * @return {void}\n */\nmodule.exports.exclude = function (excludedFilters) {\n  var i = excludedFilters.length\n  while (i--) {\n    var index = list.lastIndexOf(excludedFilters[i])\n    if (index > -1) {\n      list.splice(index, 1)\n    }\n  }\n  update()\n}\n\ntry {\n  // Address: Cubot browser\n  // Risk: Uses lookbehind assertion\n  new RegExp('(?<! cu)bot').test('dangerbot')\n  list.splice(list.lastIndexOf('bot'), 1)\n  list.push('(?<! cu)bot')\n  list.splice(list.lastIndexOf('search'), 1)\n  list.push('(?<! (ya|yandex))search')\n} catch (error) {\n  // ignore errors\n}\n\nupdate()\n","import isbot from '..';\n\n(function () {\n  const textarea = document.querySelector('textarea')\n  const output = document.querySelector('output')\n  let timer\n\n  const query = window.location.search.replace(/\\?ua=(.*)$/, '$1')\n\n  textarea.innerHTML = query\n    ? decodeURIComponent(query)\n    : navigator.userAgent\n  textarea.addEventListener('keyup', change)\n  textarea.addEventListener('paste', change)\n  textarea.addEventListener('focus', () => textarea.select())\n  check()\n\n  function change ({ target: { value } }) {\n    clearTimeout(timer)\n    timer = setTimeout(check, 200, value)\n  }\n\n  function check (value = textarea.innerHTML) {\n    value = value.trim()\n    if (value === '') {\n      output.innerHTML = 'Insert user agent string in the text box'\n      return\n    }\n\n    const result = isbot(value)\n\n    output.innerHTML = [\n      result\n        ? 'I think so, yes'\n        : 'I don\\'t think so, no',\n      result\n        ? `The pattern that I recognise is <kbd>${isbot.find(value)}</kbd>`\n        : 'I could not find a pattern I recognise'\n    ].join('\\n')\n\n    output.className = ''\n    setTimeout(() => { output.className = 'highlight' }, 100)\n  }\n})()\n"]}